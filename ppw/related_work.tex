\section{RELATED WORK AND MOTIVATION}
\label{sec:related_works}


% In this section, we briefly review some important researches in extended Amdahl's law, especially in energy-efficient area.

 %Extended Amdahl's law in energy-efficient area is widely studied in recent years. Woo and Lee extended Amdahl's law for energy-efficient parallel computation~\cite{woo:Computer'08}, who analyzed the energy efficiency of sysmmetric superscalar processor, symmetric processor with smaller and power-efficient cores, and asymmetric many-core processor. The base core equivalents (BCEs) model is proposed~\cite{hill:Computer'08}, in which BCEs with different size and therefore performance is tested to achieve the best speedup for symmetric and asymmetric multi-core chips. The performance change by tuning the operating frequency of cores can also be implemented to achieve better energy efficiency. The optimal frequencies for cores in serial and parallel regions are also derived to minimize the total energy consumption~\cite{cho:CAL'08,wang:access'17}. The work in~\cite{kim:CAL'15} focused on the energy efficiency of the sequential part accelaeration; the dynamic voltage/frequency scaling (DVFS) and heterogeneous microarchitectures (HMs) are also compared in terms of energy efficiency~\cite{lukefahr:ICPAC'14}. Individally scaling the voltage of each of the more in multi-core system to achieve better energy efficiency is proposed~\cite{borkar:dac'07}.

 %The works mentioned above share a common problem: they have difficulty in considering the temperature dependent leakage power for energy efficiency estimation. Most of the work set the power consumption of idle cores to be a constant, only few research set the power consumption of idle cores to be a variable. For instance, in~\cite{karanikolaou:JS'14}, the fraction of power a processor consumes in idle state is dependent upon the number of active cores for many-core platform. However, the leakage power it provides is too coarse to be used for energy efficiency estimation.
Power consumption has remained as one of the most important design constraints for many years. Typically, due to limited cooling capability and demand for higher performance, power budgeting and dynamic thermal management have become crucial.

Several techniques have been successfully applied for power budgeting in multi-core systems under thermal constraint. For instance, there are methods that employ dynamic voltage and frequency scaling (DVFS) to limit the system power consumption in order to keep the temperature under thermal constraints for both single-core system~\cite{Skadron:MICRO'03}, multi-core system~\cite{Jayaseelan:ICCAD'09}, and 3D IC~\cite{Coskun:DATE'09}. There are also researches that implement task migration to switch heavy and light tasks to meet the temperature constraint~\cite{Ge:DAC'10},~\cite{Chantem:TVLSI'11},~\cite{Liu:DATE'12}. DVFS and per-core power gating are exploited in~\cite{Lee:TVLSI'12} to achieve potential throughput improvement. The work presented in~\cite{Kultursay:CHSCSS'12} implements a reactive dynamic power partitioning 
algorithm to distribute the power budget unevenly among two CPU power domains to maximize instructions per second. %The above mentioned works are dedicated to improving performance of the system, the energy efficiency of them are not satisfactory.

The energy efficiency of multi-core IC systems has been studied by several researchers. Dynamic voltage scaling and dynamic core scaling are implemented in~\cite{Seo:TPDS'08} for energy saving. ~\cite{Majzoub:TCAD'10},~\cite{Kong:DATE'11} show how to determine the number of active cluter, task partition and frequency assignment for cluster-based multi-core system to reach higher energy efficiency. Methods to reduce the cost of data center operation by energy-efficient computing are presented in~\cite{Pedram:TCAD'12},~\cite{Wang:access'17}. Carrol and Heiser~\cite{Carroll:RTAS'14} investigate improving energy efficiency by frequency scaling and core offlining on mobile devices. Annamalai et al.~\cite{Annamalai:ISVLSI'14} describe a dynamic resource allocation and dynamic voltage and frequency adaptation based solution for determining the transient core speeds to maximize energy per instruction. Cochran et al.~\cite{Cochran:ICCAD'11} formulate a multinomial logistic regression model to estimate the optimal operating points. A hierarchical framework is proposed to address the problem of minimizing the energy consumption while maintaining a required throughput in~\cite{Ghasemazar:ISCAS'10}. Numerical analysis on energy efficiency of multi-core systems were studies in~\cite{Woo:Computer'08},~\cite{Hill:Computer'08},\cite{Sun:JPDC'10}. In~\cite{Hanumaiah:TCOMP'14}, techniques include DVFS, task migration and active cooling are implemented to achieve high energy efficiency for multi-core systems.

As discussed above, some of the limitations of the aforementioned works are as follows:
\begin{itemize}  
\item The dependence of leakage power to voltage and temperature is neglected;
\item The DVFS stages of core cannot be adjusted independently;
\item The thermal model does not distinguish the die and the package;
\item The thermal interaction among cores are neglected.
\end{itemize} 

In this work, we propose an energy-efficient dynamic power budgeting method to compute the power budget accurately and efficiently for dark silicon multi-core system, which can maximize the energy efficiency of the system. Our major contributions are summarized as follows:
\begin{itemize}
% \item To maximize energy efficiency, a temperature oriented optimization problem is formulated, which could be accelerated by temperature compansation and greedy based algorithm;
% \item While the energy efficiency of the multi-core system is maximized, the throughput of our provided power budget is also optimal.
\item In order to maximize the energy-efficiency of a multi-core system in dark silicon, based on the characteristics of PPW, we propose to formulate an optimization problem, by solving the optimization problem, a power budget which leads to maximum PPW of the system can be obtained.
\item Due to the high computational complexity of the optimization problem, we propose to isolate each of the core, and compute the energy-efficient power budget of each isolated core.
\item To compensate for the thermal impact of other active cores that we ignored in the isolating process, an active-core-number related temperature compensation parameter is introduced for each active core and thus the optimization problem can be solved with low complexity and little compromise.
\item To farther optimize the throughput of the system while the PPW is maximized, we transform the energy-efficient power budget into temperature and thus enables the greedy based method to find the sub-optimal active core distribution.
\item We have experimentally compared the new method with one state-of-the-art energy-efficient power budgeting method. Our numerical results show that the new method outperforms the existing method in both energy efficiency and overhead.
\end{itemize} 